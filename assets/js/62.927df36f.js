(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{650:function(e,t,n){"use strict";n.r(t);var a=n(10),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"生成器-generator"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生成器-generator"}},[e._v("#")]),e._v(" 生成器 Generator")]),e._v(" "),n("p",[e._v("生成器是一个通过构造函数 "),n("code",[e._v("Generator")]),e._v(" 创建得对象。\n生成器即是一个迭代器（即内部含有 next 方法），同时又是一个可迭代对象（即具有知名符号 Symbol.iterator）。")]),e._v(" "),n("h3",{attrs:{id:"如何创建生成器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何创建生成器"}},[e._v("#")]),e._v(" 如何创建生成器")]),e._v(" "),n("p",[e._v("生成器得创建，必须使用生成器函数（Generator Function）")]),e._v(" "),n("h3",{attrs:{id:"如何书写一个生成器函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何书写一个生成器函数"}},[e._v("#")]),e._v(" 如何书写一个生成器函数")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("  function *method(){}\n")])])]),n("h3",{attrs:{id:"生成器函数内部如何执行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生成器函数内部如何执行"}},[e._v("#")]),e._v(" 生成器函数内部如何执行")]),e._v(" "),n("p",[e._v("生成器函数内部是为了给生成器得每次迭代提供数据。\n每次调用生成器得 next 方法，将导致生成器函数运行到下一个 yield 关键字位置。\nyield 是一个关键字，改关键字只能在生成器函数内部使用，表达“产生”一个迭代数据。")]),e._v(" "),n("p",[e._v("一种语法糖，方便我们产生迭代数据")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("function* method() {\n    console.log(1);\n    yield 1;\n    console.log(2);\n    yield 2;\n    console.log(3);\n}\n")])])]),n("h3",{attrs:{id:"生成器细节"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生成器细节"}},[e._v("#")]),e._v(" 生成器细节")]),e._v(" "),n("ul",[n("li",[e._v("生成器可以有返回值，这个值会作为第一次 done 返回 true 得 value 得值。 "),n("strong",[e._v("只有第一次，后面还是会为 undefined")])]),e._v(" "),n("li",[e._v("生成器得next 方法可以传入参数，这个参数会作为 yield 表达式得返回值。")]),e._v(" "),n("li",[e._v("首次调用next 方法传入参数是无效得。")]),e._v(" "),n("li",[e._v("生成器内部可以调用其他生成器。 "),n("code",[e._v("yield * method()")]),e._v(" 相当于把代码直接粘贴过来")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("function* test() {\n    console.log('first');\n    let info = yield 1;\n    console.log('second');\n    info = yield info + 2;\n    console.log('third');\n    info = yield info * 5;\n    console.log('end');\n    return 'end'\n}\n\nvar gen = test()\nconsole.log(gen.next()); // 1\nconsole.log(gen.next(5)); // 7\nconsole.log(gen.next(2)); // 10\nconsole.log(gen.next(2)); // end\n")])])]),n("h3",{attrs:{id:"其他-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他-api"}},[e._v("#")]),e._v(" 其他 Api")]),e._v(" "),n("p",[e._v("1、 return 方法，提前结束生成器得迭代过程。\n2、 throw 方法，在生成器内部抛出异常。")])])}),[],!1,null,null,null);t.default=s.exports}}]);